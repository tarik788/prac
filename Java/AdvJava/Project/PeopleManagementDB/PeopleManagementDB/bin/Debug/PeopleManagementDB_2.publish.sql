/*
Deployment script for PeopleManagement

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "PeopleManagement"
:setvar DefaultFilePrefix "PeopleManagement"
:setvar DefaultDataPath ""
:setvar DefaultLogPath ""

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [$(DatabaseName)];


GO
PRINT N'Rename refactoring operation with key a092f35b-8d91-4fba-85a9-277ae74b4d34 is skipped, element [dbo].[PL_Employee].[Id] (SqlSimpleColumn) will not be renamed to EmpId';


GO
PRINT N'Rename refactoring operation with key 770fe6fb-b363-4598-b69b-5778c9aabf87 is skipped, element [dbo].[PL_Applicant].[Id] (SqlSimpleColumn) will not be renamed to ApplicantId';


GO
PRINT N'Rename refactoring operation with key 239ac225-6f04-450d-a232-a54fee65a4e7 is skipped, element [dbo].[PL_Applicant_Test].[Id] (SqlSimpleColumn) will not be renamed to TestId';


GO
PRINT N'Rename refactoring operation with key 72c7484a-a42d-4eaf-87c3-19ebbc98486d is skipped, element [dbo].[PL_Employee_Attendance].[Id] (SqlSimpleColumn) will not be renamed to EmpId';


GO
PRINT N'Rename refactoring operation with key 0914ab9a-f46f-4fb9-a6a0-ccd09ecbeeaf is skipped, element [dbo].[PL_Leave_Request].[Id] (SqlSimpleColumn) will not be renamed to ReqId';


GO
PRINT N'Rename refactoring operation with key afe37228-9f1a-4362-b250-9588ac95bee1 is skipped, element [dbo].[PL_Leave_Request].[Activity] (SqlSimpleColumn) will not be renamed to Activity1';


GO
PRINT N'Rename refactoring operation with key cb2f573e-85d9-48af-a492-c8a771981883 is skipped, element [dbo].[PL_Employee_Agreement].[Id] (SqlSimpleColumn) will not be renamed to EmpId';


GO
PRINT N'Rename refactoring operation with key c0c3dfea-559e-47be-9f6e-bbe2db9785f4 is skipped, element [dbo].[PL_Employee_Agreement].[Ename] (SqlSimpleColumn) will not be renamed to EmpName';


GO
PRINT N'Rename refactoring operation with key 6708581d-1e37-4599-892e-974dd8571b72 is skipped, element [dbo].[PL_Emp_Sal].[Id] (SqlSimpleColumn) will not be renamed to Empid';


GO
PRINT N'Rename refactoring operation with key 7c767235-b92d-4e72-bb60-4915f2d48de4 is skipped, element [dbo].[PL_Address].[Id] (SqlSimpleColumn) will not be renamed to AddressId';


GO
PRINT N'Rename refactoring operation with key 3a68ce88-a250-4d22-ae32-044a086dd416 is skipped, element [dbo].[PL_AddressLine].[Id] (SqlSimpleColumn) will not be renamed to AddressLineId';


GO
PRINT N'Rename refactoring operation with key f5418845-6a2a-4df8-b0b3-31e4bd99c92e is skipped, element [dbo].[PL_LK_States].[Id] (SqlSimpleColumn) will not be renamed to StateId';


GO
PRINT N'Creating [dbo].[PL_Address]...';


GO
CREATE TABLE [dbo].[PL_Address] (
    [AddressId]     INT           IDENTITY (1, 1) NOT NULL,
    [EmpId]         INT           NULL,
    [AddressLineId] INT           NULL,
    [ZipCode]       NVARCHAR (14) NULL,
    CONSTRAINT [CK_PK_Address_AddressId] PRIMARY KEY CLUSTERED ([AddressId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_AddressLine]...';


GO
CREATE TABLE [dbo].[PL_AddressLine] (
    [AddressLineId] INT            IDENTITY (1, 1) NOT NULL,
    [AddressId]     INT            NULL,
    [AddressLine]   NVARCHAR (100) NULL,
    CONSTRAINT [CK_PK_AddressLine_AddressLineId] PRIMARY KEY CLUSTERED ([AddressLineId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Applicant]...';


GO
CREATE TABLE [dbo].[PL_Applicant] (
    [ApplicantId]     INT          IDENTITY (1, 1) NOT NULL,
    [ApplicantName]   VARCHAR (30) NOT NULL,
    [Address1]        VARCHAR (50) NULL,
    [Address2]        VARCHAR (50) NULL,
    [Email]           VARCHAR (20) NULL,
    [Phone]           INT          NULL,
    [Mobile]          INT          NULL,
    [Dob]             DATE         NULL,
    [Gender]          VARCHAR (10) NULL,
    [Nationality]     VARCHAR (20) NULL,
    [WorkExp]         INT          NULL,
    [Skill]           VARCHAR (50) NULL,
    [Industry]        VARCHAR (50) NULL,
    [Category]        VARCHAR (20) NULL,
    [Roles]           VARCHAR (50) NULL,
    [CurrentEmployer] VARCHAR (50) NULL,
    [CurrentSalary]   INT          NULL,
    [HighestDegree]   VARCHAR (20) NULL,
    [Domain]          VARCHAR (20) NULL,
    [CurrentLocation] VARCHAR (20) NULL,
    PRIMARY KEY CLUSTERED ([ApplicantId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Applicant_Test]...';


GO
CREATE TABLE [dbo].[PL_Applicant_Test] (
    [TestId]        INT          IDENTITY (1, 1) NOT NULL,
    [TestName]      VARCHAR (20) NOT NULL,
    [ApplicantId]   INT          NULL,
    [ApplicantName] VARCHAR (20) NULL,
    [TestDate]      DATE         NULL,
    [TestTime]      DATETIME     NULL,
    [PresentStatus] VARCHAR (20) NULL,
    [TotalMarks]    INT          NULL,
    [MarksGained]   INT          NULL,
    [TestStatus]    VARCHAR (15) NULL,
    [PassFail]      VARCHAR (20) NULL,
    [NextRound]     VARCHAR (20) NULL,
    PRIMARY KEY CLUSTERED ([TestId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Contacts]...';


GO
CREATE TABLE [dbo].[PL_Contacts] (
    [ContactId] INT           IDENTITY (1, 1) NOT NULL,
    [EmpId]     INT           NULL,
    [Mobile]    NVARCHAR (20) NULL,
    [Email]     NVARCHAR (50) NULL,
    CONSTRAINT [CK_PK_Contacts_ContactId] PRIMARY KEY CLUSTERED ([ContactId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Emp_Sal]...';


GO
CREATE TABLE [dbo].[PL_Emp_Sal] (
    [Empid]         INT          IDENTITY (1, 1) NOT NULL,
    [Year]          INT          NOT NULL,
    [Month]         INT          NOT NULL,
    [AllowanceType] VARCHAR (50) NOT NULL,
    [AllowanceName] VARCHAR (50) NOT NULL,
    [Amt]           INT          NOT NULL,
    [Taxable]       VARCHAR (5)  NULL,
    [Percentage]    INT          NULL,
    PRIMARY KEY CLUSTERED ([Empid] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Employee]...';


GO
CREATE TABLE [dbo].[PL_Employee] (
    [EmpId]         INT          IDENTITY (1, 1) NOT NULL,
    [EmpFirstname]  VARCHAR (20) NOT NULL,
    [EmpLastname]   VARCHAR (20) NULL,
    [EmpMiddlename] VARCHAR (20) NULL,
    [UserId]        INT          NULL,
    [OrgId]         INT          NULL,
    [LevelId]       INT          NULL,
    [DeptId]        INT          NULL,
    [Dob]           DATE         NULL,
    [Doj]           DATE         NULL,
    [Nationality]   VARCHAR (20) NULL,
    CONSTRAINT [CK_PK_Employee_EmpId] PRIMARY KEY CLUSTERED ([EmpId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Employee_Agreement]...';


GO
CREATE TABLE [dbo].[PL_Employee_Agreement] (
    [EmpId]         INT          IDENTITY (1, 1) NOT NULL,
    [EmpName]       VARCHAR (20) NOT NULL,
    [LevelId]       VARCHAR (20) NULL,
    [AllowanceType] VARCHAR (50) NOT NULL,
    [AllowanceName] VARCHAR (20) NOT NULL,
    [Amt]           INT          NOT NULL,
    [Taxable]       VARCHAR (5)  NULL,
    [Percentage]    INT          NULL,
    [AgreementDate] DATE         NULL,
    PRIMARY KEY CLUSTERED ([EmpId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Employee_Attendance]...';


GO
CREATE TABLE [dbo].[PL_Employee_Attendance] (
    [EmpId]     INT          IDENTITY (1, 1) NOT NULL,
    [EmpName]   VARCHAR (20) NOT NULL,
    [TodayDate] DATE         NULL,
    [Month]     VARCHAR (50) NULL,
    [Day]       VARCHAR (10) NULL,
    [Year]      VARCHAR (50) NULL,
    [InTime]    DATE         NULL,
    [OutTime]   DATE         NULL,
    [Remark]    VARCHAR (50) NULL,
    PRIMARY KEY CLUSTERED ([EmpId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_Leave_Request]...';


GO
CREATE TABLE [dbo].[PL_Leave_Request] (
    [ReqId]       INT           IDENTITY (1, 1) NOT NULL,
    [EmpId]       INT           NOT NULL,
    [EmpName]     VARCHAR (20)  NULL,
    [TodayDate]   DATE          NULL,
    [LevelId]     VARCHAR (10)  NULL,
    [DeptId]      VARCHAR (20)  NULL,
    [FromDate]    DATE          NULL,
    [ToDate]      DATE          NULL,
    [Days]        INT           NULL,
    [Reason]      VARCHAR (500) NULL,
    [LeaveType]   VARCHAR (50)  NULL,
    [Activity1]   VARCHAR (50)  NULL,
    [Activity2]   VARCHAR (50)  NULL,
    [Activity3]   VARCHAR (50)  NULL,
    [Person1]     VARCHAR (50)  NULL,
    [Person2]     VARCHAR (50)  NULL,
    [Person3]     VARCHAR (50)  NULL,
    [Detail1]     VARCHAR (100) NULL,
    [Detail2]     VARCHAR (100) NULL,
    [Detail3]     VARCHAR (100) NULL,
    [Address]     VARCHAR (100) NULL,
    [Remark]      VARCHAR (100) NULL,
    [LeaveStatus] NCHAR (10)    NULL,
    PRIMARY KEY CLUSTERED ([ReqId] ASC)
);


GO
PRINT N'Creating [dbo].[PL_LK_Cities]...';


GO
CREATE TABLE [dbo].[PL_LK_Cities] (
    [CityId]  INT           IDENTITY (1, 1) NOT NULL,
    [ZipCode] NVARCHAR (14) NOT NULL,
    [City]    VARCHAR (50)  NOT NULL,
    CONSTRAINT [CK_PK_Cities_ZipCode] PRIMARY KEY CLUSTERED ([ZipCode] ASC)
);


GO
PRINT N'Creating [dbo].[PL_LK_States]...';


GO
CREATE TABLE [dbo].[PL_LK_States] (
    [StateId] SMALLINT     IDENTITY (1, 1) NOT NULL,
    [City]    VARCHAR (50) NOT NULL,
    [State]   VARCHAR (50) NOT NULL,
    [Country] VARCHAR (40) NOT NULL,
    CONSTRAINT [CK_PK_States_StateId] PRIMARY KEY CLUSTERED ([City] ASC)
);


GO
PRINT N'Creating CK_FK_Address_EmpId_Employee...';


GO
ALTER TABLE [dbo].[PL_Address] WITH NOCHECK
    ADD CONSTRAINT [CK_FK_Address_EmpId_Employee] FOREIGN KEY ([EmpId]) REFERENCES [dbo].[PL_Employee] ([EmpId]) ON DELETE CASCADE ON UPDATE CASCADE;


GO
PRINT N'Creating CK_FK_Address_ZipCode_Cities...';


GO
ALTER TABLE [dbo].[PL_Address] WITH NOCHECK
    ADD CONSTRAINT [CK_FK_Address_ZipCode_Cities] FOREIGN KEY ([ZipCode]) REFERENCES [dbo].[PL_LK_Cities] ([ZipCode]);


GO
PRINT N'Creating CK_FK_AddressLine_AddressId_Address...';


GO
ALTER TABLE [dbo].[PL_AddressLine] WITH NOCHECK
    ADD CONSTRAINT [CK_FK_AddressLine_AddressId_Address] FOREIGN KEY ([AddressId]) REFERENCES [dbo].[PL_Address] ([AddressId]) ON DELETE CASCADE ON UPDATE CASCADE;


GO
PRINT N'Creating CK_PK_Employee_EmpId_Contacts...';


GO
ALTER TABLE [dbo].[PL_Contacts] WITH NOCHECK
    ADD CONSTRAINT [CK_PK_Employee_EmpId_Contacts] FOREIGN KEY ([EmpId]) REFERENCES [dbo].[PL_Employee] ([EmpId]) ON DELETE CASCADE ON UPDATE CASCADE;


GO
PRINT N'Creating CK_FK_Cities_City_State...';


GO
ALTER TABLE [dbo].[PL_LK_Cities] WITH NOCHECK
    ADD CONSTRAINT [CK_FK_Cities_City_State] FOREIGN KEY ([City]) REFERENCES [dbo].[PL_LK_States] ([City]);


GO
/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/
Insert into PL_LK_Cities values('400058', 'Mumbai');
Insert into PL_LK_Cities values('400059', 'Mumbai');
Insert into PL_LK_Cities values('400060', 'Mumbai');
Insert into PL_LK_Cities values('401107', 'Thane');
Insert into PL_LK_Cities values('401108', 'Thane');
Insert into PL_LK_Cities values('401109', 'Thane');
 
INsert into PL_LK_States values('Mumbai', 'Maharastra', 'India');
INsert into PL_LK_States values('Thane', 'Maharastra', 'India');

GO

GO
